{
  "version": 3,
  "sources": ["js/config.js", "js/state.js", "js/utils.js", "js/satisfaction.js", "js/render.js", "js/economy.js", "js/orders.js", "js/report.js", "js/game.js", "js/ui.js", "js/tests.js", "js/main.js"],
  "sourcesContent": ["// Central configuration for the Coffee Stand game\nexport const CONFIG = {\n  economy: {\n    bankStartCZK: 200,\n    allowNegativeBank: false,\n    tip: { enabled: true, formula: 'linear60to8' },\n  },\n  pricesCZK: { coffee: { S: 39, M: 49, L: 59 } },\n  costsCZK: { dose_coffee: 7, cup_S: 3, cup_M: 4, cup_L: 5 },\n  recipes: {\n    coffee: {\n      S: { dose_coffee: 1, cup_S: 1 },\n      M: { dose_coffee: 2, cup_M: 1 },\n      L: { dose_coffee: 3, cup_L: 1 },\n    },\n  },\n  products: [\n    { id: 'coffee', name: 'K\u00E1va', sizes: ['S', 'M', 'L'], trainingVisible: true },\n  ],\n  sizes: ['S', 'M', 'L'],\n  denominationsCZK: [1,2,5,10,20,50,100,200,500,1000,2000],\n  personas: [\n    { id: 'default', name: 'B\u011B\u017En\u00FD', startSatisfactionRange: [60, 80], decayPerSecond: 0.25 },\n    { id: 'rush', name: 'Ve sp\u011Bchu', startSatisfactionRange: [55, 70], decayPerSecond: 0.35 },\n    { id: 'chill', name: 'V pohod\u011B', startSatisfactionRange: [70, 90], decayPerSecond: 0.15 },\n  ],\n  spawn: { shiftDurationSec: 420, spawnIntervalSec: [8, 12], maxQueueVisual: 4 },\n  orders: { itemCountWeights: { 1: 0.6, 2: 0.3, 3: 0.1 } },\n  satisfaction: {\n    clampMin: 0,\n    clampMax: 100,\n    penaltyScale: { base: 40, min: 0.5, max: 2.0 },\n    rewardScale: { base: 50, min: 0.5, max: 1.8 },\n    base: {\n      goodGreeting: 3,\n      badReply: -4,\n      wrongItemsAtPayment: -10,\n      fastService: 6,\n      wrongTotalBeforeConfirm: -8,\n    },\n    fastThresholdSec: 15,\n  },\n  ui: { dialogChoicesPerPhase: 3, showMenuBoard: true, showRunningTotal: false, devConsole: { enabled: true } },\n};\n\n", "// Runtime state of the game (mutable single source of truth)\nimport { CONFIG } from './config.js';\n\nexport const State = {\n  tickHandle: null,\n  decayHandle: null,\n  spawnTimer: null,\n  shiftRemaining: CONFIG.spawn.shiftDurationSec,\n  bank: CONFIG.economy.bankStartCZK,\n  bankStart: CONFIG.economy.bankStartCZK,\n  customersServed: 0,\n  reputationSum: 0,\n  totalSpent: 0,\n  totalRevenue: 0,\n  queue: [],\n  active: null,\n  phase: 'Idle',\n  preparedForThisOrder: [],\n  currentItem: null,\n  eventLog: [],\n  gameOver: false,\n};\n\nexport function resetState() {\n  State.shiftRemaining = CONFIG.spawn.shiftDurationSec;\n  State.bank = CONFIG.economy.bankStartCZK;\n  State.bankStart = CONFIG.economy.bankStartCZK;\n  State.customersServed = 0;\n  State.reputationSum = 0;\n  State.totalSpent = 0;\n  State.totalRevenue = 0;\n  State.gameOver = false;\n  State.eventLog = [];\n  State.queue = [];\n  State.active = null;\n  State.phase = 'Idle';\n  State.preparedForThisOrder = [];\n  State.currentItem = null;\n}\n\n", "import { State } from './state.js';\n\nexport function clamp(v, a, b) { return Math.max(a, Math.min(b, v)); }\nexport function randInt(a, b) { return a + Math.floor(Math.random() * (b - a + 1)); }\n\nexport const el = (id) => document.getElementById(id);\n\nexport function fmtTime(s) {\n  s = Math.max(0, Math.floor(s));\n  const m = Math.floor(s / 60), r = s % 60;\n  return String(m).padStart(2, '0') + ':' + String(r).padStart(2, '0');\n}\n\nexport function escapeHtml(s) {\n  return s.replace(/[&<>\"']/g, (c) => ({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '\"': '&quot;', \"'\": '&#39;' }[c]));\n}\n\nexport function logEvent(msg, deltaBank = 0, deltaS = 0) {\n  const t = new Date().toLocaleTimeString();\n  State.eventLog.unshift(`[${t}] ${msg} ${deltaBank ? `(\u0394K\u010D ${deltaBank})` : ''} ${deltaS ? `(\u0394S ${deltaS})` : ''}`);\n  if (State.eventLog.length > 200) State.eventLog.pop();\n}\n\nexport function formatOrderLabel(order) {\n  if (!order) return '\u2014';\n  return order.items.map((it) => `${it.size}`).join(' + ');\n}\n\nexport function pickPersona(personas) {\n  return personas[(Math.random() * personas.length) | 0];\n}\n\n", "import { CONFIG } from './config.js';\nimport { State } from './state.js';\nimport { clamp } from './utils.js';\n\nexport function applyPenalty(base) {\n  const S = State.active?.S ?? 50;\n  const sc = CONFIG.satisfaction.penaltyScale;\n  const factor = clamp((100 - S) / sc.base, sc.min, sc.max);\n  const delta = Math.round(base * factor);\n  if (State.active) {\n    State.active.S = clamp(\n      State.active.S - delta,\n      CONFIG.satisfaction.clampMin,\n      CONFIG.satisfaction.clampMax,\n    );\n  }\n  return -delta;\n}\n\nexport function applyReward(base) {\n  const S = State.active?.S ?? 50;\n  const sc = CONFIG.satisfaction.rewardScale;\n  const factor = clamp((100 - S) / sc.base + 0.5, sc.min, sc.max);\n  const delta = Math.round(base * factor);\n  if (State.active) {\n    State.active.S = clamp(\n      State.active.S + delta,\n      CONFIG.satisfaction.clampMin,\n      CONFIG.satisfaction.clampMax,\n    );\n  }\n  return +delta;\n}\n\nexport function tipFromS(S) {\n  if (!CONFIG.economy.tip.enabled) return 0;\n  // linear60to8: max 8 K\u010D, od S>60\n  return Math.max(0, Math.floor((S / 100 - 0.6) * 20));\n}\n\n", "import { CONFIG } from './config.js';\nimport { State } from './state.js';\nimport { el, fmtTime, escapeHtml } from './utils.js';\nimport { formatOrderLabel } from './utils.js';\n\nexport function render() {\n  const pp = el('paymentPanel'); if (pp) pp.style.display = 'block';\n  const tEl = el('time'); if (tEl) tEl.textContent = fmtTime(State.shiftRemaining);\n  const bEl = el('bank'); if (bEl) bEl.textContent = `${State.bank} K\u010D`;\n  const sEl = el('served'); if (sEl) sEl.textContent = `${State.customersServed}`;\n  const rep = State.customersServed ? (State.reputationSum / State.customersServed).toFixed(1) : '0.0';\n  const rEl = el('reputation'); if (rEl) rEl.textContent = rep;\n\n  const q = el('queueHeads'); if (q) {\n    q.innerHTML = '';\n    const heads = Math.min(CONFIG.spawn.maxQueueVisual, State.queue.length);\n    for (let i = 0; i < heads; i++) { const d = document.createElement('div'); d.className = 'head'; d.textContent = '\uD83D\uDE42'; q.appendChild(d); }\n  }\n  const qcEl = el('queueCount'); if (qcEl) qcEl.textContent = String(State.queue.length);\n  const qt = el('queueTop'); if (qt) qt.textContent = String(State.queue.length);\n\n  if (State.active) {\n    const ol = el('orderLabel'); if (ol) ol.textContent = formatOrderLabel(State.active.order);\n    const ph = el('phase'); if (ph) ph.textContent = State.active.phase;\n    const sb = el('sbar'); if (sb) sb.style.width = `${State.active.S}%`;\n  } else {\n    const ol = el('orderLabel'); if (ol) ol.textContent = '\u2014';\n    const ph = el('phase'); if (ph) ph.textContent = '\u2014';\n    const sb = el('sbar'); if (sb) sb.style.width = '0%';\n  }\n\n  const OL = el('orderedList'); if (OL) OL.innerHTML = '';\n  const PL = el('preparedList'); if (PL) PL.innerHTML = '';\n  if (State.active && State.active.order && OL && PL) {\n    for (const it of State.active.order.items) { OL.appendChild(tag(it.size)); }\n    for (const it of State.active.order.prepared) { PL.appendChild(tag(it.size)); }\n  }\n\n  renderCurrentItemPanel();\n\n  if (document.getElementById('dev').style.display !== 'none') {\n    renderDev();\n  }\n}\n\nexport function renderCurrentItemPanel() {\n  const lbl = el('curItemLabel');\n  const ing = el('curItemIngredients');\n  if (!lbl || !ing) return;\n  if (State.currentItem) {\n    lbl.textContent = `K\u00E1va ${State.currentItem.size}`;\n    const a = State.currentItem.actual;\n    const parts = [];\n    if (a.cup_S) parts.push('kel\u00EDmek S');\n    if (a.cup_M) parts.push('kel\u00EDmek M');\n    if (a.cup_L) parts.push('kel\u00EDmek L');\n    if (a.dose_coffee) parts.push(`k\u00E1va \u00D7${a.dose_coffee}`);\n    ing.textContent = parts.length ? parts.join(' + ') : 'zat\u00EDm bez ingredienc\u00ED';\n  } else {\n    lbl.textContent = '\u2014';\n    ing.textContent = '\u2014';\n  }\n}\n\nexport function tag(size) {\n  const span = document.createElement('span');\n  span.className = 'tag ' + size.toLowerCase();\n  span.textContent = 'K\u00E1va ' + size;\n  return span;\n}\n\nexport function flashPhase(msg) {\n  const elp = el('phase'); if (!elp) return;\n  const old = elp.textContent;\n  elp.textContent = msg;\n  elp.style.color = '#a33';\n  setTimeout(() => { elp.textContent = State.active ? State.active.phase : '\u2014'; elp.style.color = ''; }, 900);\n}\n\nexport function showPayErrorInline(v) { const e = el('payErrorInline'); if (e) e.style.display = v ? 'block' : 'none'; }\n\nexport function buildKeypad() {\n  const KP = el('keypadInline'); if (!KP) return; KP.innerHTML = '';\n  const keys = ['7', '8', '9', '4', '5', '6', '1', '2', '3', 'C', '0', '\u2190'];\n  keys.forEach((k) => {\n    const b = document.createElement('button'); b.textContent = k; b.addEventListener('click', () => {\n      const input = el('payInputInline');\n      if (k === 'C') input.value = '';\n      else if (k === '\u2190') input.value = input.value.slice(0, -1);\n      else input.value += k;\n      showPayErrorInline(false);\n    }); KP.appendChild(b);\n  });\n}\n\nexport function renderDev() {\n  const rows = (obj) => Object.entries(obj).map(([k, v]) => `<tr><td>${k}</td><td>${v}</td></tr>`).join('');\n  const avg = State.customersServed ? (State.reputationSum / State.customersServed).toFixed(1) : '0.0';\n  el('tblGame').innerHTML = rows({\n    Time: fmtTime(State.shiftRemaining),\n    Bank: `${State.bank} / start ${State.bankStart} / profit ${State.bank - State.bankStart}`,\n    Customers: `${State.customersServed}`,\n    Reputation: `${avg}`,\n    Queue: State.queue.length,\n  });\n  const cust = State.active ? {\n    Persona: `${State.active.personaId} (decay ${State.active.persona.decayPerSecond}/s)`,\n    S: State.active.S.toFixed(1),\n    Phase: State.active.phase,\n    Order: formatOrderLabel(State.active.order),\n    Prepared: State.active.order ? State.active.order.prepared.length + ' ks' : '\u2014',\n  } : { Persona: '-', S: '-', Phase: '-', Order: '-', Prepared: '-' };\n  el('tblCust').innerHTML = rows(cust);\n\n  const curIt = State.currentItem ? JSON.stringify(State.currentItem.actual) : '-';\n  const must = State.currentItem ? JSON.stringify(CONFIG.recipes.coffee[State.currentItem.size]) : '-';\n  el('tblOrder').innerHTML = rows({ CurrentItem: curIt, Recipe: must, Valid: '\u2014' });\n\n  el('tblEco').innerHTML = rows({ TotalSpent: State.totalSpent, TotalRevenue: State.totalRevenue, TipModel: CONFIG.economy.tip.formula });\n\n  const log = el('eventLog');\n  log.innerHTML = State.eventLog.map((l) => `<div>${escapeHtml(l)}</div>`).join('');\n}\n\nexport function toggleDev() {\n  const dv = el('dev');\n  dv.style.display = dv.style.display === 'none' ? 'block' : 'none';\n  render();\n}\n\n", "import { CONFIG } from './config.js';\nimport { State } from './state.js';\nimport { logEvent } from './utils.js';\nimport { render } from './render.js';\n\nexport function spend(cost, label) {\n  State.bank -= cost; State.totalSpent += cost;\n  logEvent(`Spot\u0159eba: ${label}`, -cost, 0);\n  if (!CONFIG.economy.allowNegativeBank && State.bank <= 0) {\n    // handled by caller via gameOver\n  }\n  render();\n}\n\nexport function earn(amount, label) {\n  State.bank += amount; State.totalRevenue += amount;\n  logEvent(`Tr\u017Eba: ${label}`, +amount, 0);\n  render();\n}\n\n", "import { CONFIG } from './config.js';\n\nexport function chooseItemCount() {\n  const w = CONFIG.orders.itemCountWeights;\n  const r = Math.random();\n  const w1 = w[1] ?? 0.6, w2 = w[2] ?? 0.3, w3 = w[3] ?? 0.1;\n  if (r < w1) return 1; if (r < w1 + w2) return 2; return 3;\n}\n\nexport function newOrderWeighted() {\n  const n = chooseItemCount();\n  const items = [];\n  for (let i = 0; i < n; i++) {\n    const size = CONFIG.sizes[(Math.random() * CONFIG.sizes.length) | 0];\n    const recipe = CONFIG.recipes.coffee[size];\n    items.push({ productId: 'coffee', size, recipe });\n  }\n  return { id: 'ORD' + Date.now(), items, prepared: [] };\n}\n\nexport function orderTotal(order) {\n  let sum = 0;\n  for (const it of order.items) { sum += CONFIG.pricesCZK[it.productId][it.size]; }\n  return sum;\n}\n\n", "import { State } from './state.js';\nimport { el } from './utils.js';\n\nexport function showReport(title/*, isGameOver*/) {\n  el('reportTitle').textContent = title;\n  const avg = State.customersServed ? (State.reputationSum / State.customersServed).toFixed(1) : '0.0';\n  const body = `\n    <div>Obslou\u017Eeno: <strong>${State.customersServed}</strong></div>\n    <div>Tr\u017Eby: <strong>${State.totalRevenue} K\u010D</strong> &nbsp; N\u00E1klady: <strong>${State.totalSpent} K\u010D</strong> &nbsp; Profit: <strong>${State.bank - State.bankStart} K\u010D</strong></div>\n    <div>Pr\u016Fm\u011Brn\u00E1 spokojenost: <strong>${avg}</strong></div>\n  `;\n  el('reportBody').innerHTML = body;\n  el('reportOverlay').style.display = 'flex';\n}\n\nexport function hideReport() { el('reportOverlay').style.display = 'none'; }\n\n", "import { CONFIG } from './config.js';\nimport { State, resetState } from './state.js';\nimport { logEvent, pickPersona, randInt } from './utils.js';\nimport { applyPenalty, applyReward, tipFromS } from './satisfaction.js';\nimport { spend, earn } from './economy.js';\nimport { newOrderWeighted, orderTotal } from './orders.js';\nimport { render, flashPhase, showPayErrorInline } from './render.js';\nimport { showReport } from './report.js';\n\nexport function createCustomer() {\n  const persona = pickPersona(CONFIG.personas);\n  const S0 = randInt(persona.startSatisfactionRange[0], persona.startSatisfactionRange[1]);\n  const cust = {\n    id: 'C' + Date.now(),\n    personaId: persona.id,\n    persona,\n    S: S0,\n    phase: 'Ordering',\n    order: null,\n    timers: { enteredAt: performance.now(), lastEventAt: performance.now(), preparedAt: null },\n  };\n  return cust;\n}\n\nexport function promoteNext() {\n  if (!State.active && State.queue.length > 0) {\n    const next = State.queue.shift();\n    State.active = next;\n    State.preparedForThisOrder = [];\n    State.currentItem = null;\n    State.phase = 'Ordering';\n    render();\n  }\n}\n\nexport function scheduleNextSpawn() {\n  if (State.spawnTimer) clearTimeout(State.spawnTimer);\n  const [minS, maxS] = CONFIG.spawn.spawnIntervalSec;\n  const delay = randInt(minS * 1000, maxS * 1000);\n  State.spawnTimer = setTimeout(() => {\n    State.queue.push(createCustomer());\n    logEvent('Nov\u00FD \u010Dlov\u011Bk do fronty');\n    promoteNext();\n    render();\n    scheduleNextSpawn();\n  }, delay);\n}\n\nexport function toPreparing() {\n  if (!State.active) return;\n  if (!State.active.order) {\n    flashPhase('Nejprve p\u0159ijmi objedn\u00E1vku.');\n    return;\n  }\n  State.active.phase = 'Preparing';\n  State.phase = 'Preparing';\n  render();\n}\n\nexport function toPayment() {\n  if (!State.active) return;\n  const wanted = State.active.order?.items.length || 0;\n  const ready = State.active.order?.prepared.length || 0;\n  if (ready !== wanted) {\n    const d = applyPenalty(CONFIG.satisfaction.base.wrongItemsAtPayment);\n    logEvent('Pokus o platbu se \u0161patn\u00FDm po\u010Dtem polo\u017Eek', 0, d);\n    render();\n    return;\n  }\n  State.active.phase = 'Payment';\n  State.phase = 'Payment';\n  render();\n}\n\nexport function finalizeItem() {\n  if (!State.active) return;\n  const it = State.currentItem;\n  if (!it) return;\n  State.active.order.prepared.push({ productId: it.productId, size: it.size, actual: it.actual });\n  State.currentItem = null;\n  if (State.active.order.prepared.length === State.active.order.items.length) {\n    State.active.timers.preparedAt = performance.now();\n  }\n  render();\n}\n\nexport function pickSize(size) {\n  if (!State.active) return;\n  if (State.active.phase === 'Ordering') toPreparing();\n  const cupId = size === 'S' ? 'cup_S' : size === 'M' ? 'cup_M' : 'cup_L';\n  State.currentItem = { productId: 'coffee', size, actual: { [cupId]: 1 } };\n  spend(CONFIG.costsCZK[cupId], `Kel\u00EDmek ${size}`);\n  if (!CONFIG.economy.allowNegativeBank && State.bank <= 0) {\n    gameOver('Bankrot: do\u0161la hotovost.');\n  }\n  render();\n}\n\nexport function tapPot() {\n  if (!State.active) return;\n  if (State.active.phase !== 'Preparing') { toPreparing(); }\n  if (!State.currentItem) {\n    spend(CONFIG.costsCZK.dose_coffee, 'D\u00E1vka k\u00E1vy (vylito na pult)');\n    logEvent('Chyba po\u0159ad\u00ED: k\u00E1va bez kel\u00EDmku \u2192 vylito na pult');\n    flashPhase('Vylito na pult \u2014 nejd\u0159\u00EDv kel\u00EDmek!');\n    render();\n    return;\n  }\n  const act = State.currentItem.actual;\n  act.dose_coffee = (act.dose_coffee || 0) + 1;\n  spend(CONFIG.costsCZK.dose_coffee, 'D\u00E1vka k\u00E1vy');\n  if (!CONFIG.economy.allowNegativeBank && State.bank <= 0) {\n    gameOver('Bankrot: do\u0161la hotovost.');\n  }\n  render();\n}\n\nexport function trashItem() {\n  if (!State.currentItem) return;\n  State.currentItem = null;\n  logEvent('Ko\u0161: rozpracovan\u00E1 polo\u017Eka zahozena');\n  render();\n}\n\nexport function finishPayment(entered) {\n  if (!State.active) return false;\n  if (!State.active.order) { showPayErrorInline(true); logEvent('Platba bez objedn\u00E1vky'); return false; }\n  const wantedCnt = State.active.order.items.length;\n  const readyCnt = State.active.order.prepared.length;\n  if (wantedCnt !== readyCnt) { showPayErrorInline(true); logEvent('Platba zablokov\u00E1na: neshoduj\u00ED se seznamy'); return false; }\n  const sum = orderTotal(State.active.order);\n  if (entered !== sum) {\n    const d = applyPenalty(CONFIG.satisfaction.base.wrongTotalBeforeConfirm);\n    logEvent(`\u0160patn\u00E1 \u010D\u00E1stka zad\u00E1na: ${entered} \u2260 ${sum}`, 0, d);\n    showPayErrorInline(true);\n    render();\n    return false;\n  }\n  const S = State.active.S;\n  const tip = tipFromS(S);\n  earn(sum + tip, `Platba ${sum} + sprop. ${tip}`);\n  State.customersServed += 1;\n  State.reputationSum += S;\n  logEvent(`Z\u00E1kazn\u00EDk obslou\u017Een (S=${S})`);\n  State.active = null;\n  promoteNext();\n  render();\n  return true;\n}\n\nexport function startShift() {\n  resetState();\n\n  // initial queue\n  State.queue.push(createCustomer());\n  promoteNext();\n  scheduleNextSpawn();\n\n  if (State.tickHandle) cancelAnimationFrame(State.tickHandle);\n  const tick = () => {\n    if (State.gameOver) return;\n    render();\n    State.tickHandle = requestAnimationFrame(tick);\n  };\n  State.tickHandle = requestAnimationFrame(tick);\n\n  if (State.decayHandle) clearInterval(State.decayHandle);\n  State.decayHandle = setInterval(() => {\n    if (State.gameOver) return;\n    if (State.shiftRemaining > 0) {\n      State.shiftRemaining -= 1;\n      if (State.shiftRemaining <= 0) { endShift(); }\n    }\n    if (State.active) {\n      State.active.S = Math.max(\n        CONFIG.satisfaction.clampMin,\n        Math.min(CONFIG.satisfaction.clampMax, State.active.S - State.active.persona.decayPerSecond),\n      );\n    }\n    render();\n  }, 1000);\n}\n\nexport function endShift() {\n  if (State.gameOver) return;\n  State.gameOver = true;\n  showReport('Sm\u011Bna skon\u010Dila', false);\n}\n\nexport function gameOver(reason) {\n  if (State.gameOver) return;\n  State.gameOver = true;\n  logEvent(`Konec hry: ${reason}`);\n  showReport(reason || 'Konec hry', true);\n}\n\n// Expose small helpers from this module used by UI\nexport { applyReward, applyPenalty, newOrderWeighted };\n\n", "import { el } from './utils.js';\nimport { applyReward, applyPenalty, toPreparing, finalizeItem, pickSize, tapPot, trashItem, finishPayment, startShift } from './game.js';\nimport { CONFIG } from './config.js';\nimport { logEvent } from './utils.js';\nimport { newOrderWeighted } from './game.js';\nimport { render, buildKeypad, toggleDev, flashPhase } from './render.js';\nimport { State } from './state.js';\nimport { hideReport } from './report.js';\n\nexport function bind() {\n  el('btnGreeting').onclick = () => {\n    if (State.active) {\n      const isNewOrder = !State.active.order;\n      if (isNewOrder) {\n        State.active.order = newOrderWeighted();\n        logEvent('Zad\u00E1na objedn\u00E1vka z\u00E1kazn\u00EDka');\n      }\n      const d = applyReward(CONFIG.satisfaction.base.goodGreeting);\n      logEvent('Replika: greeting', 0, d);\n      render();\n    }\n  };\n\n  el('btnConfirm').onclick = () => {\n    if (State.active) {\n      if (!State.active.order) { flashPhase('Nejprve p\u0159ijmi objedn\u00E1vku.'); return; }\n      const d = applyReward(CONFIG.satisfaction.base.goodGreeting);\n      logEvent('Replika: confirm', 0, d);\n      render();\n      toPreparing();\n    }\n  };\n\n  el('btnBad').onclick = () => {\n    if (State.active) {\n      const d = applyPenalty(CONFIG.satisfaction.base.badReply);\n      logEvent('Replika: nevhodn\u00E1', 0, d);\n      render();\n    }\n  };\n\n  el('btnSizeS').onclick = () => pickSize('S');\n  el('btnSizeM').onclick = () => pickSize('M');\n  el('btnSizeL').onclick = () => pickSize('L');\n  el('btnPot').onclick = () => tapPot();\n  el('btnFinalize').onclick = () => finalizeItem();\n  el('btnTrash').onclick = () => trashItem();\n\n  el('btnPayConfirmInline').onclick = () => {\n    const v = parseInt(el('payInputInline').value || '0', 10);\n    finishPayment(isFinite(v) ? v : 0);\n  };\n\n  el('btnToggleDev').onclick = toggleDev;\n  document.addEventListener('keydown', (e) => { if (e.key === 'd' || e.key === 'D') toggleDev(); });\n  el('btnRestart').onclick = () => { hideReport(); startShift(); render(); };\n\n  buildKeypad();\n}\n\n", "import { el, clamp } from './utils.js';\nimport { CONFIG } from './config.js';\nimport { State } from './state.js';\nimport { finishPayment } from './game.js';\n\nexport function runTests() {\n  const tests = [];\n  const assert = (name, cond) => tests.push({ name, pass: !!cond });\n\n  // DOM existence tests\n  ['time','bank','served','reputation','sbar','queueHeads','queueCount','bubble','orderLabel','phase','orderedList','preparedList','paymentPanel','payInputInline','keypadInline','btnPayConfirmInline','payErrorInline','reportOverlay','btnRestart']\n    .forEach(id => assert(`#${id} exists`, !!el(id)));\n\n  // payment blocking tests\n  const keepActive = State.active, keepServed = State.customersServed;\n  State.active = { S:70, order:{ items:[{productId:'coffee', size:'S'}], prepared: [] } };\n  assert('finishPayment blocked when not prepared', finishPayment(CONFIG.pricesCZK.coffee.S) === false);\n  State.active = keepActive; State.customersServed = keepServed;\n\n  // clamp tests\n  assert('clamp below', clamp(-5,0,10)===0);\n  assert('clamp inside', clamp(7,0,10)===7);\n  assert('clamp above', clamp(15,0,10)===10);\n\n  const failed = tests.filter(t => !t.pass);\n  if (failed.length) {\n    console.warn('Self-tests failed:', failed.map(f => f.name));\n    const box = document.createElement('div');\n    box.style.cssText = 'position:fixed;left:8px;bottom:8px;background:#fff3f3;border:1px solid #ffcccc;color:#a00;padding:8px 10px;border-radius:8px;z-index:9999;font:12px/1.3 system-ui';\n    box.textContent = `Self-testy nepro\u0161ly: ${failed.length}. Zkontroluj konzoli.`;\n    document.body.appendChild(box);\n  } else {\n    console.log('Self-tests OK');\n  }\n}\n\n", "// Entry point: wires tests, events, and starts the shift\nimport { bind } from './ui.js';\nimport { runTests } from './tests.js';\nimport { startShift } from './game.js';\nimport { render } from './render.js';\n\n// Initialize\nrunTests();\nbind();\nstartShift();\nrender();\n\n"],
  "mappings": "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",
  "names": []
}
